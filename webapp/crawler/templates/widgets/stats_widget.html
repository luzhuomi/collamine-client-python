{% load static %}

<div id="stats_widget" class="widget">
     <div><!-- FusionChart -->
     	       <div id="stats_fc_div"><div class="widget-initial-content"></div></div>
     </div>
</div>
<script type="text/javascript">
var stats_widget = (function () {
    var render_div_id = "stats_fc_div";
    var chart_id = "stats_fc";
    var chart_width = "600";
    var chart_height = "450";
    return {
        initialized: false,
	overlay: null,
	contentLoaded: false,

	update   : function () {

		 var chartDataUrl  = "/crawler/stats/";

		 this.chart = new FusionCharts(
		      "{% static "fc/Pie2D.swf?ChartNoDataText=The selected filter settings yield no results." %}",
		      chart_id,
		      chart_width,
		      chart_height,
		      "0", "1"
		      );
		 this.chart.setDataURL(chartDataUrl);
		 this.chart.render(render_div_id);
		 this.chart_initialized = true;
		 this.prev_type = '3';

	}, // the callbacks
	init     : function () {
	}
    }
})();
stats_widget.init();
stats_widget.update();
</script>
